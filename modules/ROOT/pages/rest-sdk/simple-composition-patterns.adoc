= Simple Composition Patterns
ifndef::env-site,env-github[]
include::../_attributes.adoc[]
endif::[]

There are specific pre-identified use cases that fit a general pattern in the
target API. You can identify these patterns and use declarative metadata to
express them.

== Hiding Operations

This pattern is used to hide operations. Operations declared in the connector's first (base) layer can be hidden by ignoring them in a subsequent descriptor layer to generate a connector with a subset of operations.

=== Hiding Operations Example

The following example shows the descriptor's base layer:

----
#% Rest Connect Connector Descriptor 1.0

apiSpec:
 url: http://myhost.com/resources/shop-api.yaml

connectorName: Shop Connector

connectorGav:
 groupId: com.mulesoft.connectors
 artifactId: shop-connector
 version: 1.0.0
----

This will generate all the operations of the connector that are declared in the source API specification.

To generate a connector with only a subset of the operations from the API specification while also maintaining all the customizations declared in the descriptor's base layer, you can use a new descriptor layer to hide some operations:

----
#% Rest Connect Connector Descriptor 1.0

connectorGav:
 groupId: com.mulesoft.connectors
 artifactId: composed-shop-connector
 version: 1.0.0

endpoints:
    /users:
        ignored: true
----

All the operations under the `/users` endpoint are ignored and will not be present
in the generated connector.

By using this metadata, you can select which operation is and is not available
to the user when you choose an event in Composer.

image::composer-hiding-operations.png[]

== Renaming Operations

This pattern is used to customize operation names.

=== Renaming Operations Example

The following example shows the descriptor's base layer:

----
#% Rest Connect Connector Descriptor 1.0

apiSpec:
 url: http://myhost.com/resources/shop-api.yaml

connectorName: Shop Connector

connectorGav:
 groupId: com.mulesoft.connectors
 artifactId: shop-connector
 version: 1.0.0

endpoints:
    /users:
        operations:
            get:
                displayName: Get Users
----

The operation is currently named `Get Users`.

You can rename an operation in the `/users` section of the descriptor:

----
#% Rest Connect Connector Descriptor 1.0

connectorGav:
 groupId: com.mulesoft.connectors
 artifactId: composed-shop-connector
 version: 1.0.0

endpoints:
    /users:
        operations:
            get:
                displayName: Get All Users
----

In the generated connector, the operation is now renamed `Get All Users`.

By using this metadata, you can rename an operation for the user when you
choose an event in Composer.

image::composer-renaming-operations.png[]
